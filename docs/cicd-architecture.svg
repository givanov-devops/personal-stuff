<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1201px" height="801px" viewBox="-0.5 -0.5 1201 801" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2025-01-30T14:30:00.000Z&quot; agent=&quot;5.0&quot; etag=&quot;&quot; version=&quot;24.8.7&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;cicd-pipeline&quot;&gt;&lt;mxGraphModel dx=&quot;1422&quot; dy=&quot;794&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1200&quot; pageHeight=&quot;800&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">
  
  <!-- Background -->
  <rect x="0" y="0" width="1200" height="800" fill="#f8f9fa" stroke="none"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#2c3e50">
    Ping Application CI/CD Pipeline Architecture
  </text>
  
  <!-- Trigger Section -->
  <rect x="50" y="60" width="200" height="80" rx="10" fill="#e8f4fd" stroke="#1f77b4" stroke-width="2"/>
  <text x="150" y="85" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1f77b4">
    Triggers
  </text>
  <text x="150" y="105" text-anchor="middle" font-family="Arial" font-size="11" fill="#1f77b4">
    Push to any branch
  </text>
  <text x="150" y="120" text-anchor="middle" font-family="Arial" font-size="11" fill="#1f77b4">
    PR to main
  </text>
  
  <!-- Code Quality Job -->
  <rect x="50" y="180" width="200" height="120" rx="10" fill="#e8f5e8" stroke="#2e7d32" stroke-width="2"/>
  <text x="150" y="205" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#2e7d32">
    Code Quality
  </text>
  <text x="150" y="225" text-anchor="middle" font-family="Arial" font-size="11" fill="#2e7d32">
    • Python Setup
  </text>
  <text x="150" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#2e7d32">
    • Dependencies
  </text>
  <text x="150" y="255" text-anchor="middle" font-family="Arial" font-size="11" fill="#2e7d32">
    • Black, isort, flake8
  </text>
  <text x="150" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="#2e7d32">
    • Unit Tests (pytest)
  </text>
  <text x="150" y="285" text-anchor="middle" font-family="Arial" font-size="11" fill="#2e7d32">
    • Coverage Report
  </text>
  
  <!-- CI Job -->
  <rect x="320" y="180" width="200" height="120" rx="10" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="420" y="205" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#f57c00">
    CI - Validation
  </text>
  <text x="420" y="225" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57c00">
    • Code Quality (repeat)
  </text>
  <text x="420" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57c00">
    • Terraform Setup
  </text>
  <text x="420" y="255" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57c00">
    • terraform fmt/validate
  </text>
  <text x="420" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57c00">
    • terraform plan
  </text>
  <text x="420" y="285" text-anchor="middle" font-family="Arial" font-size="11" fill="#f57c00">
    • Upload artifacts
  </text>
  
  <!-- Artifacts Storage -->
  <rect x="590" y="180" width="160" height="80" rx="10" fill="#f3e5f5" stroke="#8e24aa" stroke-width="2"/>
  <text x="670" y="205" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#8e24aa">
    Artifacts
  </text>
  <text x="670" y="225" text-anchor="middle" font-family="Arial" font-size="11" fill="#8e24aa">
    • tfplan (binary)
  </text>
  <text x="670" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#8e24aa">
    • tfplan.txt (readable)
  </text>
  <text x="670" y="255" text-anchor="middle" font-family="Arial" font-size="11" fill="#8e24aa">
    Retention: 1 day
  </text>
  
  <!-- Conditional Flow for main branch -->
  <rect x="320" y="340" width="200" height="60" rx="10" fill="#ffebee" stroke="#d32f2f" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="420" y="365" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#d32f2f">
    Main Branch Only
  </text>
  <text x="420" y="385" text-anchor="middle" font-family="Arial" font-size="11" fill="#d32f2f">
    github.ref == 'refs/heads/main'
  </text>
  
  <!-- Manual Approval Job -->
  <rect x="320" y="440" width="200" height="120" rx="10" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
  <text x="420" y="465" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#c2185b">
    Manual Approval
  </text>
  <text x="420" y="485" text-anchor="middle" font-family="Arial" font-size="11" fill="#c2185b">
    • Download artifacts
  </text>
  <text x="420" y="500" text-anchor="middle" font-family="Arial" font-size="11" fill="#c2185b">
    • Process plan content
  </text>
  <text x="420" y="515" text-anchor="middle" font-family="Arial" font-size="11" fill="#c2185b">
    • Create GitHub issue
  </text>
  <text x="420" y="530" text-anchor="middle" font-family="Arial" font-size="11" fill="#c2185b">
    • Show plan preview
  </text>
  <text x="420" y="545" text-anchor="middle" font-family="Arial" font-size="11" fill="#c2185b">
    • Wait for approval
  </text>
  
  <!-- GitHub Issue -->
  <rect x="590" y="440" width="160" height="80" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="670" y="465" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1976d2">
    GitHub Issue
  </text>
  <text x="670" y="485" text-anchor="middle" font-family="Arial" font-size="11" fill="#1976d2">
    • Plan preview
  </text>
  <text x="670" y="500" text-anchor="middle" font-family="Arial" font-size="11" fill="#1976d2">
    • Change summary
  </text>
  <text x="670" y="515" text-anchor="middle" font-family="Arial" font-size="11" fill="#1976d2">
    Approval: approve/deny
  </text>
  
  <!-- CD Deployment Job -->
  <rect x="320" y="600" width="200" height="120" rx="10" fill="#e8f5e8" stroke="#388e3c" stroke-width="2"/>
  <text x="420" y="625" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#388e3c">
    CD - Deploy
  </text>
  <text x="420" y="645" text-anchor="middle" font-family="Arial" font-size="11" fill="#388e3c">
    • Download artifacts
  </text>
  <text x="420" y="660" text-anchor="middle" font-family="Arial" font-size="11" fill="#388e3c">
    • terraform apply
  </text>
  <text x="420" y="675" text-anchor="middle" font-family="Arial" font-size="11" fill="#388e3c">
    • Wait for services
  </text>
  <text x="420" y="690" text-anchor="middle" font-family="Arial" font-size="11" fill="#388e3c">
    • Integration tests
  </text>
  <text x="420" y="705" text-anchor="middle" font-family="Arial" font-size="11" fill="#388e3c">
    • Deployment summary
  </text>
  
  <!-- Infrastructure -->
  <rect x="590" y="600" width="160" height="80" rx="10" fill="#e0f2f1" stroke="#00796b" stroke-width="2"/>
  <text x="670" y="625" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#00796b">
    Infrastructure
  </text>
  <text x="670" y="645" text-anchor="middle" font-family="Arial" font-size="11" fill="#00796b">
    • Docker containers
  </text>
  <text x="670" y="660" text-anchor="middle" font-family="Arial" font-size="11" fill="#00796b">
    • Load balancer
  </text>
  <text x="670" y="675" text-anchor="middle" font-family="Arial" font-size="11" fill="#00796b">
    • Health endpoints
  </text>
  
  <!-- Cleanup Job -->
  <rect x="50" y="600" width="200" height="80" rx="10" fill="#fafafa" stroke="#616161" stroke-width="2"/>
  <text x="150" y="625" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#616161">
    Cleanup
  </text>
  <text x="150" y="645" text-anchor="middle" font-family="Arial" font-size="11" fill="#616161">
    PR closed trigger
  </text>
  <text x="150" y="660" text-anchor="middle" font-family="Arial" font-size="11" fill="#616161">
    Clean up resources
  </text>
  
  <!-- Security & Best Practices Box -->
  <rect x="820" y="180" width="320" height="220" rx="10" fill="#f8f9fa" stroke="#6c757d" stroke-width="2"/>
  <text x="980" y="205" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#495057">
    Security &amp; Best Practices
  </text>
  
  <text x="840" y="235" font-family="Arial" font-size="12" font-weight="bold" fill="#28a745">
    ✓ Secure Artifact Handling
  </text>
  <text x="850" y="250" font-family="Arial" font-size="11" fill="#495057">
    • No state files in artifacts
  </text>
  <text x="850" y="265" font-family="Arial" font-size="11" fill="#495057">
    • 1-day retention policy
  </text>
  
  <text x="840" y="290" font-family="Arial" font-size="12" font-weight="bold" fill="#28a745">
    ✓ Manual Approval Process
  </text>
  <text x="850" y="305" font-family="Arial" font-size="11" fill="#495057">
    • Plan preview in GitHub issue
  </text>
  <text x="850" y="320" font-family="Arial" font-size="11" fill="#495057">
    • Change summary display
  </text>
  <text x="850" y="335" font-family="Arial" font-size="11" fill="#495057">
    • Clear approval instructions
  </text>
  
  <text x="840" y="360" font-family="Arial" font-size="12" font-weight="bold" fill="#28a745">
    ✓ Quality Gates
  </text>
  <text x="850" y="375" font-family="Arial" font-size="11" fill="#495057">
    • Code quality checks
  </text>
  <text x="850" y="390" font-family="Arial" font-size="11" fill="#495057">
    • Unit tests with coverage
  </text>
  
  <!-- Technology Stack - MADE BIGGER -->
  <rect x="820" y="440" width="320" height="160" rx="10" fill="#f8f9fa" stroke="#6c757d" stroke-width="2"/>
  <text x="980" y="465" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#495057">
    Technology Stack
  </text>
  
  <text x="840" y="490" font-family="Arial" font-size="12" font-weight="bold" fill="#17a2b8">
    Application
  </text>
  <text x="850" y="505" font-family="Arial" font-size="11" fill="#495057">
    Python 3.11, Flask/FastAPI
  </text>
  
  <text x="840" y="530" font-family="Arial" font-size="12" font-weight="bold" fill="#17a2b8">
    Infrastructure
  </text>
  <text x="850" y="545" font-family="Arial" font-size="11" fill="#495057">
    Terraform 1.9.8, Docker
  </text>
  
  <text x="840" y="570" font-family="Arial" font-size="12" font-weight="bold" fill="#17a2b8">
    CI/CD Platform
  </text>
  <text x="850" y="585" font-family="Arial" font-size="11" fill="#495057">
    GitHub Actions, Ubuntu runners
  </text>
  
  <!-- Legend - MOVED DOWN -->
  <rect x="820" y="620" width="320" height="120" rx="10" fill="#f8f9fa" stroke="#6c757d" stroke-width="2"/>
  <text x="980" y="645" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#495057">
    Legend
  </text>
  
  <line x1="840" y1="665" x2="860" y2="665" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="870" y="670" font-family="Arial" font-size="11" fill="#495057">Sequential flow</text>
  
  <line x1="840" y1="685" x2="860" y2="685" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  <text x="870" y="690" font-family="Arial" font-size="11" fill="#495057">Artifact download</text>
  
  <line x1="840" y1="705" x2="860" y2="705" stroke="#616161" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  <text x="870" y="710" font-family="Arial" font-size="11" fill="#495057">Conditional trigger</text>
  
  <!-- Flow Arrows -->
  
  <!-- Trigger to Code Quality -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#495057"/>
    </marker>
  </defs>
  
  <!-- Trigger to Code Quality -->
  <line x1="150" y1="140" x2="150" y2="180" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Code Quality to CI -->
  <line x1="250" y1="240" x2="320" y2="240" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- CI to Main Branch Check -->
  <line x1="420" y1="300" x2="420" y2="340" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Main Branch to Approval -->
  <line x1="420" y1="400" x2="420" y2="440" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Approval to GitHub Issue -->
  <line x1="520" y1="500" x2="590" y2="500" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Approval to CD -->
  <line x1="420" y1="560" x2="420" y2="600" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- CD to Infrastructure -->
  <line x1="520" y1="660" x2="590" y2="660" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Artifacts to Approval (download) -->
  <line x1="590" y1="220" x2="570" y2="220" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="570" y1="220" x2="570" y2="480" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="570" y1="480" x2="520" y2="480" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  
  <!-- Artifacts to CD (download) -->
  <line x1="590" y1="240" x2="560" y2="240" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="560" y1="240" x2="560" y2="640" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="560" y1="640" x2="520" y2="640" stroke="#8e24aa" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  
  <!-- PR Cleanup trigger -->
  <line x1="50" y1="120" x2="30" y2="120" stroke="#616161" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="30" y1="120" x2="30" y2="580" stroke="#616161" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="30" y1="580" x2="50" y2="580" stroke="#616161" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="150" y1="580" x2="150" y2="600" stroke="#616161" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  
  <!-- Environment Labels -->
  <text x="150" y="750" text-anchor="middle" font-family="Arial" font-size="12" font-style="italic" fill="#6c757d">
    TARGET_ENV: local
  </text>
  <text x="420" y="750" text-anchor="middle" font-family="Arial" font-size="12" font-style="italic" fill="#6c757d">
    Terraform Version: 1.9.8
  </text>
  <text x="670" y="750" text-anchor="middle" font-family="Arial" font-size="12" font-style="italic" fill="#6c757d">
    Docker Registry: ghcr.io
  </text>
  
</svg>